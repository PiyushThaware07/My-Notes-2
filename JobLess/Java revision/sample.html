<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM Manipulation Example</title>
</head>

<body>
    <div id="parent">
        <button type="button" id="btn">click me</button>
        <button type="button" id="btn">click me</button>
    </div>

    <script>
        // Get the parent element
        const parent = document.getElementById("parent");
        /*
                // Insert an h1 element before the parent div
                parent.insertAdjacentHTML("beforebegin", "<h1>Before Begin</h1>");
                parent.insertAdjacentHTML("afterbegin", "<h1>After Begin</h1>");
                parent.insertAdjacentHTML("beforeend", "<h1>Before End</h1>");
                parent.insertAdjacentHTML("afterend", "<h1>After End</h1>");
                
        
                parent.className = "bg-text-500"
                console.log(parent.classList);
                parent.classList.add("adding-new-class");   
                console.log(parent.classList);
                parent.classList.remove("adding-new-class");   
                console.log(parent.classList);
                parent.classList.toggle("toggling-class");
                
        //


        // Settimeout and setInterval
        // setTimeOut : executes the piece of code after delay
        const setTime = setTimeout(() => {
            console.log("I am setTimeout");
        }, 1000)

        clearTimeout(setTime,()=>{
            console.log("setTimeout is cleared");
        });
        // setIntervals : execute the piece of code within some interval of time
        const setIntervalTime = setInterval(()=>{
            console.log("Hello i am interval");
        },1000);
        clearInterval(setIntervalTime);
       

        const btn = document.getElementById("btn");
        console.log(btn);
        // Method - 1
        btn.onclick = function () {
            console.log("button is clicked");
        }
        // Method - 2
        btn.addEventListener("wheel",()=>{
            console.log("mouse wheel scrolled");
        })
        



        //  Callback Function : 
        function ParentFunction(callback) {
            setTimeout(() => {
                const data = { id: 1, name: 'John Doe' };
                callback(data)
            }, 5000)
        }

        function PrintData(data) {
            console.log(data);
        }

        ParentFunction(PrintData);
        


        //  Promises : Fetch data using promises
        const myPromise = new Promise((resolve, reject) => {
            setTimeout(() => {
                const request = fetch("https://fakestoreapi.com/products")
                request.then((result) => {
                    resolve(result.json());
                }).catch((error) => {
                    reject(error)
                })
            }, 5000);
        })
        myPromise.then((result) => {
            console.log(result);
        }).catch((error) => {
            console.error(error);
        })

        //  Async & Await : Fetch data using promises
        async function fetchData() {
            const response = await fetch("https://fakestoreapi.com/products");
            const data = await response.json();
            console.log(data);
        }
        fetchData();
        */



        // Cookies : Small Pience of data store in user device that is subsiquently request server in specifc time.
        // Inserting cookie
        document.cookie = "fname = Piyush";
        document.cookie = "lname = Thaware";
        // Updating cookie
        document.cookie = "fname = Shareyash";


        // Localstorange
        // 1. setting
        localStorage.setItem("fullname", "Piyush Thaware");
        localStorage.setItem("email", "Piyushthaware@gmail.com");
        // length
        console.log(localStorage.length);
        // 2. getting
        console.log(localStorage.getItem("fullname"));
        // 3. removing
        localStorage.removeItem("fullname");
        // 4. Updating
        localStorage.setItem("email", "testing@gmail.com");
        // 5. Clearing
        localStorage.clear()


        // SessionStorage
        // 1. setting 
        sessionStorage.setItem("fname", "Piyush");
        sessionStorage.setItem("lname", "Thaware");
        // length
        console.log(sessionStorage.length);
        // 2. Getting
        console.log(sessionStorage.getItem("fname"));
        // 3. Removing
        sessionStorage.removeItem("fname");
        // 4. Updating
        sessionStorage.setItem("lname", "Ronak");
        // 5. Clearing
        sessionStorage.clear();

    </script>
</body>

</html>