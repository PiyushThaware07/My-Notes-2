<!-- Asynchronous actions are the actions that we initiate now and they finish later. E.g. setTimeout 
Synchronous actions are the actions that initiate and finish one-by-one. -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>


    <script>
        /*
        // Asynchronous
        console.log("Start");
        setTimeout(function(){
            console.log("Hey I am Good");
        },3000);
        console.log("End");
        */

        // Callback - A callback function is a function passed into another function as an argument, which is then invoked inside the outer function to complete an action.   
        function LoadScript(src, callback) {
            var new_script = document.createElement("script");
            new_script.src = src;
            document.head.append(new_script);
            // Check script is loaded or not
            new_script.onload = function () {
                console.error("Script is Loaded", src);
                callback(null, src);
            }

            // Error in url
            new_script.onerror = function () {
                alert('Error Encounter');
                callback(new Error("src got some error"));
            }
        }

        function sendEmergencyMessageToCEO() {
            console.log('CEO Wakeup');
            return;
        }

        function goodmorning(error, src) {
            if (error) {
                console.log("Eror Encounter");
                sendEmergencyMessageToCEO()
                return
            }
            else {
                alert("Good Morning bro" + src);
            }
        }

        // User input link
        let url = prompt("Enter the Url Here ?")
        LoadScript(url, function welcome(error, src) {
            if (error) {
                console.log("Eror Encounter");
                return
            }
            LoadScript(url, function welcome(error, src) {
                if (error) {
                    console.log("Eror Encounter");
                    return
                }
                LoadScript(url, function welcome(error, src) {
                    if (error) {
                        console.log("Eror Encounter");
                        return
                    }
                    LoadScript(url, function welcome(error, src) {
                        if (error) {
                            console.log("Eror Encounter");
                            return
                        }
                    });
                });
            });
        });
    </script>
</body>

</html>